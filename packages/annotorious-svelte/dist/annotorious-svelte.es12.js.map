{"version":3,"file":"annotorious-svelte.es12.js","sources":["../../../node_modules/@neodrag/svelte/dist/min/index.js"],"sourcesContent":["var e={dragStart:!0},t=(e,t,n)=>Math.min(Math.max(e,t),n),n=e=>\"string\"==typeof e,r=([e,t],n,r)=>{const o=(e,t)=>0===t?0:Math.ceil(e/t)*t;return[o(n,e),o(r,t)]};var o=(e,t)=>e.some((e=>t.some((t=>e.contains(t)))));function i(e,t){if(void 0===e)return;if(s(e))return e.getBoundingClientRect();if(\"object\"==typeof e){const{top:t=0,left:n=0,right:r=0,bottom:o=0}=e;return{top:t,right:window.innerWidth-r,bottom:window.innerHeight-o,left:n}}if(\"parent\"===e)return t.parentNode.getBoundingClientRect();const n=document.querySelector(e);if(null===n)throw new Error(\"The selector provided for bound doesn't exists in the document.\");return n.getBoundingClientRect()}var a=(e,t,n)=>e.style.setProperty(t,n),s=e=>e instanceof HTMLElement,d=(d,l={})=>{let c,u,{bounds:f,axis:g=\"both\",gpuAcceleration:h=!0,legacyTranslate:p=!0,transform:m,applyUserSelectHack:w=!0,disabled:y=!1,ignoreMultitouch:b=!1,recomputeBounds:v=e,grid:x,position:E,cancel:S,handle:A,defaultClass:C=\"neodrag\",defaultClassDragging:N=\"neodrag-dragging\",defaultClassDragged:D=\"neodrag-dragged\",defaultPosition:M={x:0,y:0},onDragStart:B,onDrag:$,onDragEnd:R}=l,H=!1,L=0,T=0,X=0,Y=0,q=0,P=0,{x:k,y:z}=E?{x:E?.x??0,y:E?.y??0}:M;V(k,z);let I,U,W,j,F,G=\"\",J=!!E;v={...e,...v};let K=new Set;const O=document.body.style,Q=d.classList;function V(e=L,t=T){if(!m){if(p){let n=`${+e}px, ${+t}px`;return a(d,\"transform\",h?`translate3d(${n}, 0)`:`translate(${n})`)}return a(d,\"translate\",`${+e}px ${+t}px ${h?\"1px\":\"\"}`)}const r=m({offsetX:e,offsetY:t,rootNode:d});n(r)&&a(d,\"transform\",r)}const Z=(e,t)=>{const n={offsetX:L,offsetY:T,rootNode:d,currentNode:F};d.dispatchEvent(new CustomEvent(e,{detail:n})),t?.(n)};const _=addEventListener;_(\"pointerdown\",te,!1),_(\"pointerup\",ne,!1),_(\"pointermove\",re,!1),a(d,\"touch-action\",\"none\");const ee=()=>{let e=d.offsetWidth/U.width;return isNaN(e)&&(e=1),e};function te(e){if(y)return;if(2===e.button)return;if(K.add(e.pointerId),b&&K.size>1)return e.preventDefault();if(v.dragStart&&(I=i(f,d)),n(A)&&n(S)&&A===S)throw new Error(\"`handle` selector can't be same as `cancel` selector\");if(Q.add(C),W=function(e,t){if(!e)return[t];if(s(e))return[e];if(Array.isArray(e))return e;const n=t.querySelectorAll(e);if(null===n)throw new Error(\"Selector passed for `handle` option should be child of the element on which the action is applied\");return Array.from(n.values())}(A,d),j=function(e,t){if(!e)return[];if(s(e))return[e];if(Array.isArray(e))return e;const n=t.querySelectorAll(e);if(null===n)throw new Error(\"Selector passed for `cancel` option should be child of the element on which the action is applied\");return Array.from(n.values())}(S,d),c=/(both|x)/.test(g),u=/(both|y)/.test(g),o(j,W))throw new Error(\"Element being dragged can't be a child of the element on which `cancel` is applied\");const t=e.composedPath()[0];if(!W.some((e=>e.contains(t)||e.shadowRoot?.contains(t)))||o(j,[t]))return;F=1===W.length?d:W.find((e=>e.contains(t))),H=!0,U=d.getBoundingClientRect(),w&&(G=O.userSelect,O.userSelect=\"none\"),Z(\"neodrag:start\",B);const{clientX:r,clientY:a}=e,l=ee();c&&(X=r-k/l),u&&(Y=a-z/l),I&&(q=r-U.left,P=a-U.top)}function ne(e){K.delete(e.pointerId),H&&(v.dragEnd&&(I=i(f,d)),Q.remove(N),Q.add(D),w&&(O.userSelect=G),Z(\"neodrag:end\",R),c&&(X=L),u&&(Y=T),H=!1)}function re(e){if(!H||b&&K.size>1)return;v.drag&&(I=i(f,d)),Q.add(N),e.preventDefault(),U=d.getBoundingClientRect();let n=e.clientX,o=e.clientY;const a=ee();if(I){const e={left:I.left+q,top:I.top+P,right:I.right+q-U.width,bottom:I.bottom+P-U.height};n=t(n,e.left,e.right),o=t(o,e.top,e.bottom)}if(Array.isArray(x)){let[e,t]=x;if(isNaN(+e)||e<0)throw new Error(\"1st argument of `grid` must be a valid positive number\");if(isNaN(+t)||t<0)throw new Error(\"2nd argument of `grid` must be a valid positive number\");let i=n-X,s=o-Y;[i,s]=r([e/a,t/a],i,s),n=X+i,o=Y+s}c&&(L=Math.round((n-X)*a)),u&&(T=Math.round((o-Y)*a)),k=L,z=T,Z(\"neodrag\",$),V()}return{destroy:()=>{const e=removeEventListener;e(\"pointerdown\",te,!1),e(\"pointerup\",ne,!1),e(\"pointermove\",re,!1)},update:t=>{g=t.axis||\"both\",y=t.disabled??!1,b=t.ignoreMultitouch??!1,A=t.handle,f=t.bounds,v=t.recomputeBounds??e,S=t.cancel,w=t.applyUserSelectHack??!0,x=t.grid,h=t.gpuAcceleration??!0,p=t.legacyTranslate??!0,m=t.transform;const n=Q.contains(D);Q.remove(C,D),C=t.defaultClass??\"neodrag\",N=t.defaultClassDragging??\"neodrag-dragging\",D=t.defaultClassDragged??\"neodrag-dragged\",Q.add(C),n&&Q.add(D),J&&(k=L=t.position?.x??L,z=T=t.position?.y??T,V())}}};\n//!THIS IS HACK, WE WANNA IMPORT THE TYPE WHEN THE ISSUE IS FIXED LATER\nexport{d as draggable};"],"names":["e","t","n","r","o","i","s","a","d","l","c","u","f","g","h","p","m","w","y","b","v","x","E","S","A","C","N","D","M","B","$","R","H","L","T","X","Y","q","P","k","z","V","I","U","W","j","F","G","J","K","O","Q","Z","_","_a","_b"],"mappings":"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","x_google_ignoreList":[0]}